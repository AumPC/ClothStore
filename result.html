<head>
    <body>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>

    <script>
        var data1 = d3.json("/src/json/test.json", function(error, data) {
            console.log(data);
            createElements(data);
        });
        function createElements(obj) {
            var age = obj['faces'][0].age;
            var gender = obj['faces'][0].gender.value;
            var faceW = obj['faces'][0].boundingBox.w;
            var bodyW = obj['person'].boundingBox.w;
            var style = obj['person'].styles[0].styleName;
        
            var size;
            if(faceW/bodyW < 1/5) {
                size = "S";
            }
            else if(faceW/bodyW < 1/4) {
                size = "M";
            }
            else if(faceW/bodyW < 1/3) {
                size = "L";
            }
            
            var path = "/src/pic";
            if(gender == "Female") {
                path += "/F";
            }
            else {
                path += "/M";
            }
            
            if(age > 0 && age <= 12) {
                path += "/0-12";
            }
            else if(age > 12 && age <= 22) {
                path += "/13-22";
            }
            else if(age > 22 && age <= 35) {
                path += "/23-35";
            }
            else if(age > 35 && age <= 55) {
                path += "/36-55";
            }
            else {
                path += "/56+";
            }

            path += "/" + style;
            pathlist = [];
            pathlist.push(path + "/1.jpg");
            pathlist.push(path + "/2.jpg");
            pathlist.push(path + "/3.jpg");
            pathlist.push(path + "/4.jpg");
            console.log(path)
            const mainDiv = document.createElement('div');
            mainDiv.classList.add('blog-post');
            const text = document.createElement('p');
            text.classList.add('blog-text');
            text.innerHTML = "age: " + age;
            const text2 = document.createElement('p');
            text2.classList.add('blog-text');
            text2.innerHTML = "gender: " + gender;
            const text3 = document.createElement('p');
            text3.classList.add('blog-text');
            text3.innerHTML = "face width: " + faceW;
            const text4 = document.createElement('p');
            text4.classList.add('blog-text');
            text4.innerHTML = "body width: " + bodyW;
            const text5 = document.createElement('p');
            text5.classList.add('blog-text');
            text5.innerHTML = "style: " + style;
            const text6 = document.createElement('p');
            text6.classList.add('blog-text');
            text6.innerHTML = "size: " + size;
            mainDiv.appendChild(text);
            mainDiv.appendChild(text2);
            mainDiv.appendChild(text3);
            mainDiv.appendChild(text4);
            mainDiv.appendChild(text5);
            mainDiv.appendChild(text6);
            document.querySelector('body').appendChild(mainDiv);
            const div2 = document.createElement('div');
            div2.classList.add('picList');
            for(var i = 0; i < 4 ; i++ ) {
                var img = document.createElement("img");
                img.setAttribute("src", pathlist[i]);
                img.classList.add('pic');
                div2.appendChild(img);
            }
            document.querySelector('body').appendChild(div2);
        }
        
    </script>
    </body>
</head>